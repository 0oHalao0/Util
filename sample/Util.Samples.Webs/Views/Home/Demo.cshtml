@{
    ViewData["Title"] = "Tile";
}
<div class="toolbar toolbar-detail search-menu" fxLayout="row" fxLayoutAlign="start center">
    <span fxFlex style="flex: 1 1 1e-09px; box-sizing: border-box;"></span>
    <div class="icon-group">
        <button class="spam" mat-icon-button matTooltip="新增">
            <mat-icon>add</mat-icon>
        </button>
        <button class="spam" mat-icon-button matTooltip="修改">
            <mat-icon>edit</mat-icon>
        </button>
        <button class="delete" mat-icon-button matTooltip="删除" (click)="delete()">
            <mat-icon>delete</mat-icon>
        </button>
    </div>
</div>

<div style="width: 300px">

    <mat-form-field>
        <mat-select>
            <mat-option></mat-option>
            <mat-option value="1">A</mat-option>
            <mat-option value="2">B</mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field floatPlaceholder="never">
        <mat-select placeholder="应用程序" [(ngModel)]="model.a" #select2="matSelect" name="BB" required="true" #selectModel2="ngModel" [disabled]="false" [multiple]="true">
            <mat-select-trigger>应用程序: {{ select2.triggerValue }}</mat-select-trigger>
            <mat-option></mat-option>
            <mat-option value="1">A</mat-option>
            <mat-option value="2">B</mat-option>
            <mat-option value="3">C</mat-option>
            <mat-option value="4">D</mat-option>
            <mat-option value="5">E</mat-option>
        </mat-select>
        <mat-error *ngIf="selectModel2?.hasError( 'required' )">必填项</mat-error>
    </mat-form-field>

    <mat-form-field floatPlaceholder="never">
        <mat-select placeholder="应用程序" [(ngModel)]="model.value" #select="matSelect" name="a" required="true" #selectModel="ngModel" [disabled]="false" [multiple]="true">
            <mat-select-trigger>应用程序: {{ select.triggerValue }}</mat-select-trigger>
            <mat-option></mat-option>
            <mat-option *ngFor="let item of foods" [value]="item.value" [disabled]="item.disabled">
                {{ item.viewValue }}
            </mat-option>
        </mat-select>
        <mat-error *ngIf="selectModel?.hasError( 'required' )">必填项</mat-error>
    </mat-form-field>


    <mat-form-field>
        <mat-select placeholder="Pokemon">
            <mat-option>-- None --</mat-option>
            <mat-optgroup *ngFor="let group of pokemonGroups" [label]="group.name"
                          [disabled]="group.disabled">
                <mat-option *ngFor="let pokemon of group.pokemon" [value]="pokemon.value">
                    {{ pokemon.viewValue }}
                </mat-option>
            </mat-optgroup>
        </mat-select>
    </mat-form-field>
</div>
@*<div>
    <button type="button" pButton (click)="showSuccess()" label="Success" class="ui-button-success"></button>
    @Html.Ui().TextBox().Name( "queryParam.Name" ).Model( "queryParam.Name" ).Placeholder( "姓名" )
    <button mat-raised-button mat-button (click)="query()">查询</button>
</div>*@

<table-wrapper #grid baseUrl="customers" [queryParam]="queryParam" >
    @*表头*@
    <div class="table-header">
        <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="关键词搜索">
        </mat-form-field>
    </div>
    <mat-table matSort matSortActive="created" matSortDisableClear matSortDirection="asc" class="table-head-fixed">

        <ng-container matColumnDef="selectCheckbox">
            <mat-header-cell *matHeaderCellDef>
                <mat-checkbox (change)="$event ? grid.masterToggle() : null"
                              [disabled]="!grid.dataSource.data.length"
                              [checked]="grid.isMasterChecked()"
                              [indeterminate]="grid.isMasterIndeterminate()">
                </mat-checkbox>
            </mat-header-cell>
        </ng-container>

        <ng-container matColumnDef="lineNumber">
            <mat-header-cell *matHeaderCellDef>No</mat-header-cell>
        </ng-container>

        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header>姓名</mat-header-cell>
        </ng-container>

        <ng-container matColumnDef="nickname">
            <mat-header-cell *matHeaderCellDef mat-sort-header>昵称</mat-header-cell>
        </ng-container>

        <ng-container matColumnDef="mobile">
            <mat-header-cell *matHeaderCellDef>电话</mat-header-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="['selectCheckbox','lineNumber', 'name','nickname','mobile']"></mat-header-row>
    </mat-table>
    @*数据*@
    <mat-table [dataSource]="grid.dataSource" [style.min-height]="grid.minHeight+'px'" [style.max-height]="grid.maxHeight+'px'" matSort matSortActive="created" matSortDisableClear matSortDirection="asc">

        <ng-container matColumnDef="selectCheckbox">
            <mat-header-cell *matHeaderCellDef>
                <mat-checkbox (change)="$event ? grid.masterToggle() : null"
                              [disabled]="!grid.dataSource.data.length"
                              [checked]="grid.isMasterChecked()"
                              [indeterminate]="grid.isMasterIndeterminate()">
                </mat-checkbox>
            </mat-header-cell>
            <mat-cell *matCellDef="let row">
                <mat-checkbox (click)="$event.stopPropagation()"
                              (change)="$event ? grid.selection.toggle(row) : null"
                              [checked]="grid.selection.isSelected(row)">
                </mat-checkbox>
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef="lineNumber">
            <mat-header-cell *matHeaderCellDef>No</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.lineNumber }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header>姓名</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.name }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="nickname">
            <mat-header-cell *matHeaderCellDef mat-sort-header>昵称</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.nickname }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="mobile">
            <mat-header-cell *matHeaderCellDef mat-sort-header>电话</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.mobile }}</mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="['selectCheckbox','lineNumber', 'name','nickname','mobile']" style="display: none"></mat-header-row>
        <mat-row *matRowDef="let row; columns: ['selectCheckbox','lineNumber', 'name','nickname','mobile'];"
                 class="mat-row-hover"
                 (click)="grid.selection.toggle(row)">
        </mat-row>
    </mat-table>
</table-wrapper>

